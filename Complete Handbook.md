# Our Engineering Handbook

This document contains policies and guides for our engineering team at DocTalk. As we grow our team, it becomes important that these stay transparent and that we are all aligned by them.

All feedback and suggestions are appreciated.

***

# Welcome to DocTalk
Hey! Welcome to the DocTalk team, we’re so excited to have you with us. We’re hoping you’re going to learn a lot working here and that we’ll learn a lot from you. But first, this document will help you start figuring out how DocTalk works and how we work together.

At DocTalk, we’re trying to build an inclusive and value-driven organization. If you have any questions about why we do things a certain way, or have a suggestion about how we can do anything better, please let us know (or just write comments in the documents -- you should already have comment access to everything in the DocTalk handbook!).  

## Your First Day

Hopefully by the time you’re actually starting at DocTalk, you’ve already finished filling out the paperwork and you’ve showed up to a desk with a new computer. Today is all about getting you set up and making sure you’re ready to go.

**The goal for today is for you to publish _something_ live.** If you’re a designer, that could be a color change for a button. If you’re a developer, it might be fixing a missing semicolon. It could be a support response or an infographic. Whatever you’ll be doing at DocTalk, we want you to ship something small today.

Otherwise, take some time to meet everyone you’ll be working with, and set things up the way you like them. First days are hard and mostly we want you to be getting comfortable today.

We want you to stick around. Your successes here will be your team’s successes, and your team’s successes will be yours. We want you to build a career here, so don’t feel any pressure to cram everything into today -- you’ll have plenty of time to get things right.

## Our Ambition is Huge

**Our ambition is huge.** We want to build the healthcare ecosystem for all of India. This is a massive undertaking, and we have to be a little bit delusional to believe that we can do it. But every day we’re making progress and we’ve already taken this a lot further than anyone said was possible, so we’re used to making the impossible happen. This is hard, daunting work, but that’s how we make a dent on the world.

## The DocTalk Team, Hours, and Office

For now, DocTalk operates as a single team where everyone is working towards company-level goals. Since we’re still small, there’s not too much overhead in keeping up with everyone. There are still engineering-specific meetings, and marketing conversations that happen separately. But when we set our goals, we all think directly about how we contribute to the company goals. You’ll get to work with everyone at DocTalk in some capacity, and dip your fingers into all different kinds of thinking.

We believe that if you have too much on your plate, then you can only see what’s right in front of you. You need space and time to think about the future and plan ahead. If we give ourselves room to breathe and think and live, we’re capable of much broader thinking. To achieve that, we try to create a culture that’s not based on scarcity.

You should expect a typical workweek at DocTalk to be 50-60 hours. Most people show up between 9 and 10 and leave between 8 and 9. We don’t work Sundays, but a lot of us host or go to events at night. This is to give you a sense of what’s normal here, but you should work the hours that are healthy and sustainable for you.

We try to make the office atmosphere welcoming and respectful for people of all different backgrounds. This is an ongoing process of negotiating and compromising as we share space, and depends on good communication. If there are specific things you like or want to change, let us know. We’re always getting better :)

## The Future

DocTalk is a small company that is changing and improving rapidly. Today is about welcoming you and helping you join our team, but soon we’ll need your help growing and learning. DocTalk will be a very different company a year from today, and it’s hard to imagine what it will be like in 5 or 10. You will have a hand in building that company, and we’re so excited to have your help.

***

# Hiring 
## Interview Process
#### Methodology
* Initial call to introduce DocTalk and get to know them at a basic level. Evaluate whether they are very inquisitive about DocTalk and ask a lot of questions.
* Send Programming/Design Task.
* Conduct Live Coding/Design Interview.
* Reference Checks. (3 curated = people they worked with, 3-5 non-curated = linkedin / other professional networks)
* Evaluate Culture Fit:
    * What are your career goals?
	(If his/her goals sound like an echo of the _____ website or they don’t have any, screen them out.)
    * What are you really good at professionally?
	(Push them to give you 8-12 positives, with examples, so that you can build a complete picture of their capabilities. You are listening for strengths.)
    * What are you not good at or not interested in doing professionally?
	(Push them for real weaknesses, 5-8 of them. If they don’t respond thoroughly enough, call them on it. If they still don’t, then say the following:  “If you advance to the next step in our process, we will ask for your help in setting up reference calls with your bosses, peers and subordinates. What do you think they will say are some things that you are not good at, or not interested in?“)
    * Who were your last 3 bosses, and how will they each rate your performance on a 0-10 scale when we talk to them?
    (Press for details of why each person would give them such a rating. We are looking for consistent 8-10s. A 6 is actually a 2. But ask why it’s a 6.)	
    * If you had just 1 year left to live, would you still work with us?

    And then it is important to go deeper. Throughout the interview, get curious. Ask follow-up questions that start with “What”, “How” or “Tell me more.”

    Examples:
    * “What do you mean?”
    * “What is an example of that?”
    * “How did you do that?”
    * “How did that feel?”
* Fly them in for an in person 1 day coding session.

### Point People

* Design (Chaitu)
* QA (Chaitu)
* iOS (Chaitu)
* Android (Vijay, Vamsee)
* Full Stack (Vamsee)

## Referrals
Referrals from people who already work at DocTalk are one of the best signals we can get about whether or not a candidate will be successful at DocTalk. DocTalk employees understand DocTalk’s needs and what it’s like to work at DocTalk, and their relationship with the candidate means they know a lot more than we can learn during an interview process.

For this reason, we have made it mandatory to fill in one referral every week [**here**](https://docs.google.com/spreadsheets/d/1XZz7m42DP0edTJTfdjPJC69oGJn33X4gW6cy7bqyKlM/edit#gid=0).
This need not always be someone you know. It can be someone you admire or wish to work with.

Here are our currently open positions:

* [iOS Engineer](https://angel.co/doctalk-solutions-inc/jobs/239303-ios-engineer)
* [Android Engineer](https://angel.co/doctalk-solutions-inc/jobs/229805-android-engineer)
* [Fullstack Engineer](https://angel.co/doctalk-solutions-inc/jobs/229806-full-stack-engineer)
* [QA Engineer](https://angel.co/doctalk-solutions-inc/jobs/258117-senior-quality-assurance-qa-engineer)
* [Product Designer](https://angel.co/doctalk-solutions-inc/jobs/229808-product-designer)

We offer a [**referral bonus**](https://github.com/doctalk-india/handbook/blob/master/Benefits%20and%20Perks/Referral%20Bonuses.md) for any new hire that comes from an employee referral to help align company incentives with individual incentives. 

***

# Operations
## Bug Reporting

All bug reporting goes through the Quality Assurance (QA) engineer.

### Bugs through employees/users

* Once a bug is identified, the QA engineer is to be notified by phone call. (If the QA engineer is unavailable, for e.g. on Sundays or holidays, reach out to Krishna or Vamsee).
* The person reporting the bug also has to describe the priority of the bug and the time sensitivity.
* As soon as a bug is reported, the QA engineer is responsible for reproducing the problem and attaching stack traces, screenshots and any additional information required for debugging the problem.
* The documented bug is pushed to JIRA, which will be taken up by either Krishna or Vamsee until it fills up their buffer time of 40 points per PL each.
* If bugs exceed the buffer time, then they will be taken into consideration in the next PL after being put through the prioritization process.

### Bugs through Crashlytics

* The QA engineer is responsible for tracking all the bugs that pop up on crashlytics.
* When a bug is reported on crashlytics, the QA engineer tries to replicate the bug and attaches all relevant stack traces, screenshots, etc and creates a bug on JIRA with a complete description.
* It is the responsibility of the QA engineer to assign the priority of the bug based on number of users affected, number of crashes and severity of the bug.

## Feature Requests

All feature requests go through the Quality Assurance (QA) engineer.

* When a doctor or a patient requests a new feature, the QA engineer is to be notified by phone call. (If the QA engineer is unavailable, for e.g. on Sundays or holidays, reach out to Krishna or Vamsee).
* The person reporting the feature also has to describe the urgency of the feature and mention who asked for the feature (only if it was a doctor).
* The QA Engineer then documents this feature on JIRA by providing all the above details along with the number of times the same feature has been requested.
* New feature requests will not be taken up in the current PL. They will be added to our backlog and taken up after being put through our prioritization process.

## Feature Prioritization

You can access our prioritization sheet [**here**](https://docs.google.com/a/getdoctalk.com/spreadsheets/d/1JZkhymaoFsaGT_lB9M8qL1_KQOtEQP9xFTRhIsD_Mac/edit?usp=sharing).

### Metrics
* Effort - This value is based on a combination of time it would take to implement for one engineer.  
The scale is currently defined as:  
1: Small - 1 to 2 days  
2: Medium - 1 week  
3: Large - 1 PL  
4: XL - 1.5 PL  
5: XXL - 2 PL  
* Urgency - Urgency defines time sensitivity, with the following scale:  
0: no deadline - 0 to 4 KPI points (look below to understand KPI points)  
1: within 2 PLs - 5 to 12 KPI points  
2: this PL - 13 to 20 KPI points  
* Impact - The impact value indicates the potential impact on profitability.  
Note that the values may be negative. That indicates that the project could have a negative impact on profitability. This doesn't necessarily mean the project won't get done, but as you'll see in a bit, it means the project must give greater benefits in other ways.  
-2: significant negative impact  
-1: negative impact  
0: little to no impact  
1: some impact  
2: significant impact  
* Risk Factor - This indicates the risk factor if the project is NOT implemented.  
0: Little or no risk - 0 to 4 KPI points  
1: Some risk - 5 to 12 KPI points  
2: Significant risk - 13 to 20 KPI points  
* Innovation - Indicates innovation level, which considered we consider a positive influence on long term growth.  
0: little or none   
1: ahead of the curve   
2: groundbreaking   

Scoring for priority - With these individual scores defined, we can now calculate a priority value. We consider this priority value to be a guide, not a rule. As a guide though, it's quite helpful when making decisions about what to do next.  
Here is the formula:  
**(Impact * 3) + (Urgency * 3) + (Risk Factor * 4) + (Innovation * 2) - (Effort * 3)**

### KPI (Key Performance Indicator) Points
Doctor Engagement (DE) - 6  
Patient Conversion (PC) - 5  
Patient Engagement (PE) - 3  
Monthly Revenue (MR) - 3  
Doctor Growth (DG) - 2  
Doctor Conversion (DC) - 1  

Each value has been assigned based on how important its corresponding KPI is to the company's success.

### Scoring a Feature

* Figure out which KPIs are definitively affected by that feature.  
* Calculate KPI points.  
* Assign Metric points.  
* Score using the formula - **(Impact * 3) + (Urgency * 3) + (Risk Factor * 4) + (Innovation * 2) - (Effort * 3)**.

## Product Lifecycle

### Structure

* [Length and Points](#length-points) - 14 days and 100 points
* [PL Discussion](#pl-discussion) - Every 2nd Friday 6PM
* [PL Progress Discussion](#pl-progress-discussion) - Every non-PL Discussion Friday 6PM
* [PL Task Assignment](#pl-task-assignment) - Every 2nd Saturday 6PM
* [Releases](#releases) - 1 team member for Android; 1 team member for iOS
* [Buffer](#buffer)

### <a name="length-points"></a>Length and Points
A new Product Lifecycle (PL) starts on every second Monday and lasts for 14 days. During these 14 days, every team member will have tasks assigned to them on JIRA that are worth 100 points. It is extremely important that these 100 points are completed. Each team member is accountable for completing their points.

### <a name="pl-discussion"></a>PL Discussion
Every second Friday, we will have a Pre-PL Discussion at 6PM.  
The agenda for this discussion is as follows:  

* Take the backlog from JIRA and add it to our [**prioritization sheet**](https://docs.google.com/a/getdoctalk.com/spreadsheets/d/1JZkhymaoFsaGT_lB9M8qL1_KQOtEQP9xFTRhIsD_Mac/edit?usp=sharing).
* Brainstorm and score the features.
* Take the top x priorities based on number of team members and their effort score.
* Break these down into subtasks where each subtask should ideally take less than 5 points of work to complete. 
  * The points should reflect any and all work related to that sub task. Ex: discussing implementation, testing, research, etc.
  * When calculating the points per sub task, we will usually ask the person with most expertise in that area to provide an estimate.

### <a name="pl-progress-discussion"></a>PL Progress Discussion
Every non-PL Discussion Friday, either Vamsee or Krishna will have a short discussion about progress with every team member.
The agenda for this discussion is as follows:

* Check if everything is on track.
* If it is not, figure out how to get it back on track.

### <a name="pl-task-assignment"></a>PL Task Assignment
Every second Saturday, we will have a PL Discussion at 6PM.  
The agenda for this discussion is as follows:

* Assign sub tasks to team members up to 100 points per team member.
* Set clear expectations.

### <a name="releases"></a>Releases
Vijay will be in charge of Android releases so will only be assigned 90 points per PL.  
Sourav will be in charge of iOS release and so will only be assigned 90 points per PL.  
The other 10 should go towards ensuring a smooth and timely release.

### <a name="buffer"></a>Buffer
Vamsee will have a 25 point buffer to react to bug fixes and very high priority feature requests.  
Krishna will have a 25 point buffer to react to bug fixes and very high priority feature requests.  
This will ensure overall team accountability while enabling other team members to stay focused on their respective tasks without facing any interruptions.

## Daily Standups

The tech team will be asked two questions by the Standuply Slack bot every day at 6 PM.

* What did you do today?
* Did you update JIRA? If not, please do it now and respond to this question right after.

The team gets a time period of 4 hours to answer these questions.

## Performance Evaluation

### Daily Standups
Do the daily standups! If you don't do them then we have no idea about the obstacles you are facing. We give you the opportunity to let us know about these obstacles up front so that we can work through them together to meet deadlines. If you don't do daily standups and further end up missing deadlines, there is not much we can do to help you. On the other, if you do daily standups we can intervene early and help as much as possible.

### Meeting Deadlines (reviewed every pre-PL call)

### Git Prime (reviewed every two weeks)

* Productive Code Throughput > 2.1k
* Raw Code Throughput > 3k
* Efficiency Rate > 70%
* Productive Code — tt100 < 3 hours
* Raw Code — tt100 < 2 hours
* Active Days > 5
* Commits per Active Day > 2
* Impact >= 1

We will try have these stats up in our office to have some healthy competition going :)

### Quality of Code Reviews (reviewed every month)
Be critical. We should always hold ourselves to high standards and aim to be better developers.
The code reviewer will be held accountable for any bugs that could have been spotted during a code review.

***
# Software Engineering
## Feature Implementation
Before writing even a single line of code, write down a brief description of the implementation details [**here**](https://docs.google.com/document/d/1ahK49ZzXtsa4m46LNJYtGWgtdGy6_qvbYjlMei_XKr8/edit). This is the pre-implementation documentation.

* Everytime a new feature is being built, branch out of develop to create a new feature branch. **No changes should be ever committed directly to the develop branch.**
* Name the feature branch as following - **[your name]/DOC-[jira issue number]_[feature name]**
* Keep committing logical pieces of code once you are done working on them. This should become a regular practice rather than committing large chunks at one go.
* Prefix every commit with **DOC-[jira issue number]**
* After feature development is complete and thoroughly tested create a pull request to merge back into develop.
* While creating the pull request, assign atleast one reviewer to request for a code review.
* When you are requested to do a code review, it **must** be done within **24hrs**, if not earlier.
* When working with firebase always log the listeners and make sure the events being triggered are what you expect them to be.

After implementing a feature, revisit your pre-implementation documentation and add post implementation notes reflecting any changes in the prior and also document the firebase events being triggered.

Some useful git commands when working on features:
```sh
$ git flow feature start [feature-name]
$ git request-pull <start> <url> [<end>]
```

## Code Review Guidelines

Look for code smells when doing code reviews. A good place to start understanding how to identify code smells is [**this**](https://blog.codinghorror.com/code-smells/)

### When you submit a pull request

* Annotate your code well so that the person reading it can understand it!

### When reviewing a pull request

* Write comments in the form of bullet points!!
* Review fewer than 400 lines of code at a time.
* Take your time. Inspection rates should under 500 LOC per hour.
* Do not review for more than 60 minutes at a time.

## Releases

### Android
* After a feature branch's pull request is merged back into develop and the app is ready for an update, create a new release branch.
* Bump the version number on this branch and test the app thoroughly.
* On android
  * Generate the signed APK.
  * Test the signed APK.
  * Upload to play store.
* Tag the release branch as the version number and jot down the release notes as the description. [git flow takes care of the tag, but not the description]
* After the app is uploaded to the store, merge the release branch into master using git flow.

Vijay is currently in charge of Android releases.


### iOS
* Make sure everything is ready on the develop branch.
* Check the build number in the project settings of XCode.
* Run `git flow release start [insert version number + 1 here]
* Once on the release branch, go into project settings and increase the version number. In most cases, you will be incrementing the patch number. Occasionally, the minor version and rarely the major version.
* Commit the updated build number.
* Now go to the GitHub repository. Start at the last merge of a release branch that was not a beta release branch.
* Look at all the major changes that users would understand and write them down line by line in release_notes.txt.
* Commit the release notes.
* Test all the features you saw.
* Fix any problems if necessary.
* Commit and push the branch.
* Run `fastlane release`
* Sit back and relax :)
* Once the release is done, run `git flow release finish [insert version number here]`

Sourav is currently in charge of iOS releases.


#### Some useful git commands when releasing an update:
```sh
$ git flow release start [version-number]
# Bump version number and do your final testing before release.
# Make sure release notes are updated
$ git flow release finish [version-number]
$ git push --tags
```
PS: Version number should always follow the following format:    **[major-version].[minor-version].[build]**

***

# Benefits and Perks

## Performance Bonuses
We offer a performance bonus between 5 and 20 percent of an engineer's salary based on the engineer's performance at the end of each year. 

We take the following things into account for performance bonus. These are documented in more detail [**here**](https://github.com/doctalk-india/handbook/blob/master/Operations%20Documents/Performance%20Evaluation.md):

* Daily standups.
* Ability to meet deadlines.
* GitPrime statistics.
* Quality of code reviews.

All software engineering employees (except the founders) are eligible for the performance bonus. 

## Referral Bonuses
We offer referral bonus for any new hire that comes from an employee referral to help align company incentives with individual incentives. The bonus amount is equivalent to the 1 month salary of the hired candidate.

All software engineering employees (except the founders) are eligible for the referral bonus. The referral date can’t be earlier than the date the job is posted and the hiring of the referred employee has to happen within 180 days (six months) of the initial referral. The referral must represent the candidate’s first contact with DocTalk, and only the first employee to refer a candidate can get the bonus. The referrer should send the candidate’s information to Krishna, should make an introduction to the candidate, and should expect to be engaged during the recruiting and interview process. The referring employee must still be employed by DocTalk during the hired candidate’s first 30 days of employment, and will be paid within 90 days of the referred employee’s first day. Any disputes or interpretations of this program should be sent to Krishna.

## Vacation and Sick Leave

typealias Days = Int

enum VSL: Days {  
&nbsp;&nbsp;&nbsp;&nbsp;case vacation = 13  
&nbsp;&nbsp;&nbsp;&nbsp;case sick-leave = 8  
}

